{% extends 'base.html.twig' %}

{% block title %}Voir les post
{% endblock %}

{% block body %}

	<link rel="stylesheet" href="{{ asset('/css/showarticles.css') }}">

	<body>
		{% include "public/shared/_navbar.html.twig" %}
		<div id="rowRegister" class="row">

			<aside id="ou_intro_register" class="col-xl-3">

				<div class="intro_register">

					<div class="sigle">
						<P id="icocon">
							<i class="fas fa-user-shield" style="color:red"></i>
						</p>


					</p>

				</div>
				<div class="infoRegister">
					<h5>Menu Administrateur
					</h5>

					<a class="btn btn-primary" href="{{ path('admin_show_user') }}">Gestion des utilisateurs</a>
					<p>
						-des Utilisateurs inscrits

					</p>
					<a class="btn btn-success" href="{{ path('admin_show_article') }}">Gestion des Posts</a>
					<p>

						-des Posts
					</p>
				</div>

				<img class="creat_account" src="{{ asset('images/cadenas.png') }}" alt="s'enregistrer"></img>
		</div>
	</body>
</aside>


<aside id="content" class="col-xl-9">
	<div class="content_register">

		<div class="row">
			{% include "public/shared/_messages_flash.html.twig" %}
		</div>

		<div class="col-12">
			<h3 class="showart" style=" font-weight:bold">Liste des Posts</h3>


			<div class="card-body">
				{% if articles | length > 0 %}
					{{ knp_pagination_render(articles) }}
					<div class="table-responsive">

						<table class="table table-hover">

							<thead class="tete">
								<th>Son titre</th>

								<th>Son contenu</th>
								<th>Son Auteur</th>
								<th>Supprimer(Post)</th>

							</thead>
							<tbody>
								{% for article in articles %}
									<tr>
										<td>{{ article.titre }}</td>
										<td>{{article.description |raw }}</td>
										<td>{{ article.user.pseudo }}</td>


										<td>
											<a href="{{ path('admin_delete_article', {'id' : article.id}) }}" class="btn btn-danger">
												<i class="far fa-trash-alt"></i>
											</td>
										</td>

									</tr>
								{% endfor %}
							</tbody>
						</td>
					</tbody>


				</table>
			</div>

			{{ knp_pagination_render(articles) }}
		</div>
	{% else %}
		<p>Aucun Post Ã©crit!</p>
	{% endif %}
</div></div></div></aside></div></body>{% endblock %}
